(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(70)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(14),l=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(37),n(38),n(39),n(40);var c=n(9),s=n(10),i=n(12),u=n(11),m=n(13),d=(n(41),n(7)),h=n.n(d),p=n(71),g=n(72),f=n(73),b=n(74),E=n(75),v=n(76),k={BASE_API_URL:"http://azizcruz111.pythonanywhere.com"},y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleDone=function(e,t){h.a.patch("".concat(k.BASE_API_URL,"/api/tasks/").concat(e,"/"),{is_done:t}).then(function(e){return n.props.onDone()}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:" col-md-6 col-lg-4 p-2"},o.a.createElement(p.a,null,o.a.createElement("dir",{className:"deleteTodo"},this.props.children[0]),o.a.createElement(g.a,null,o.a.createElement("h3",{className:"text-center font-weight-bold p-2"},this.props.title),this.props.children[1]),o.a.createElement(f.a,null,o.a.createElement(b.a,null,0===this.props.tasks.length?o.a.createElement("h3",{className:"text-center font-weight-bold"},"No tasks"):"",this.props.tasks.map(function(t){return o.a.createElement(E.a,{key:t.id},o.a.createElement("div",{className:"row align-items-center tasks"},o.a.createElement("div",{className:"col-8"},o.a.createElement("span",{className:t.is_done?"done":""},t.task)),o.a.createElement("div",{className:"col-4"},t.is_done?o.a.createElement(v.a,{color:"secondary",onClick:function(){e.handleDone(t.id,!1)}},"Undone"):o.a.createElement(v.a,{color:"success",onClick:function(){e.handleDone(t.id,!0)}},"Done"))))})))))}}]),t}(a.Component),O=n(3),j=n(81),S=n(77),w=n(78),C=n(79);var _={get_token:function(){return new URL(window.location.href).searchParams.get("simpleToken")},error_message:function(e,t,n,a){null!=n&&(document.getElementById(n).style.borderColor=t),document.getElementById(a).innerHTML=e.data.message},not_empty:function(e,t,n,a,o,r){return e.hasOwnProperty(t)&&(!e.hasOwnProperty(t)||0!==e[t].length)||(document.getElementById(o).style.borderColor=n,document.getElementById(r).innerHTML=a,!1)}},N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,formData:{title:""}},n.toggle=n.toggle.bind(Object(O.a)(Object(O.a)(n))),n.handleChange=n.handleChange.bind(Object(O.a)(Object(O.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(Object(O.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"handleChange",value:function(e){this.setState({formData:{title:e.target.value}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.formData;if(!1===_.not_empty(n,"title","#d63031","* Todo name can't be empty.","todo-title","task-input-error"))return!1;h.a.post("".concat(k.BASE_API_URL,"/api/todos/?simpleToken=").concat(_.get_token()),n).then(function(e){t.props.onSubmit(t.state.formData),t.setState({formData:{title:""}}),t.toggle()}).catch(function(e){_.error_message(e.response,"#d63031","todo-title","task-input-error")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(v.a,{color:"success",onClick:this.toggle},this.props.buttonLabel),o.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},o.a.createElement(S.a,{toggle:this.toggle},"Add new todo list +"),o.a.createElement("form",{type:"post",onSubmit:this.handleSubmit},o.a.createElement(w.a,null,o.a.createElement("label",{htmlFor:"todo-title",className:"mr-2"},"Title"),o.a.createElement("input",{type:"text",id:"todo-title",onChange:this.handleChange,name:"title"}),o.a.createElement("div",{id:"task-input-error",className:"task-input-error"})),o.a.createElement(C.a,null,o.a.createElement(v.a,{color:"primary",type:"submit"},"Add +")," ",o.a.createElement(v.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(a.Component),D=n(31),A=n.n(D),P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1},n.toggle=n.toggle.bind(Object(O.a)(Object(O.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(Object(O.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=e.target,a=A()(n,{hash:!0});if(!1===_.not_empty(a,"task","#d63031","* Task name can't be empty.","task-name","task-input-error"))return!1;h.a.post("".concat(k.BASE_API_URL,"/api/tasks/?simpleToken=").concat(_.get_token()),a).then(function(){t.props.onSubmit(),t.toggle()}).catch(function(e){_.error_message(e.response,"#d63031","task-name","task-input-error")})}},{key:"render",value:function(){return o.a.createElement("div",{className:""},o.a.createElement(v.a,{color:"primary",onClick:this.toggle},this.props.buttonLabel),o.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,centered:!0},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(S.a,{toggle:this.toggle},"Add new task +"),o.a.createElement(w.a,null,o.a.createElement("label",{htmlFor:"task-name",className:"mr-2"},"Task name"),o.a.createElement("input",{type:"text",id:"task-name",name:"task",onChange:this.handleChange}),o.a.createElement("div",{id:"task-input-error",className:"task-input-error"}),o.a.createElement("input",{type:"hidden",name:"todo",value:this.props.todo})),o.a.createElement(C.a,null,o.a.createElement(v.a,{type:"submit",color:"primary"},"Add task +")," ",o.a.createElement(v.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(a.Component),T=n(80),L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1},n.toggle=n.toggle.bind(Object(O.a)(Object(O.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"performDelete",value:function(e){var t=this;h.a.delete("".concat(k.BASE_API_URL,"/api/todos/").concat(e,"?simpleToken=").concat(_.get_token())).then(function(e){t.toggle(),t.props.onSubmit()}).catch(function(e){_.error_message(e.response,"#d63031",null,"delete-error")})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(T.a,{color:"danger",onClick:this.toggle},this.props.buttonLabel),o.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},o.a.createElement(w.a,null,o.a.createElement("h4",{id:"delete-error"},"Are you sure you want to delete ",this.props.title," ?")),o.a.createElement(C.a,null,o.a.createElement(v.a,{color:"danger",onClick:function(){return e.performDelete(e.props.todo)}},"Yes, Delete")," ",o.a.createElement(v.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(a.Component);function B(){return o.a.createElement("div",null,o.a.createElement("div",{className:"lds-css ng-scope"},o.a.createElement("div",{className:"lds-spinner",id:"lds-spinner",style:{width:"100%",height:"100%"}},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))))}var I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchTodos=function(){h.a.get("".concat(k.BASE_API_URL,"/api/todos/")).then(function(e){n.setState({todos:e.data})}).catch(function(e){console.log(e)})},n.refreshData=function(){n.setState({success:!0}),n.fetchTodos()},n.state={todos:[],success:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchTodos()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(N,{onSubmit:function(t){e.refreshData()},buttonLabel:"Add Todo +"}),o.a.createElement("span",null,o.a.createElement(B,null)),this.state.todos.length>0?o.a.createElement("div",{className:"row"},this.state.todos.map(function(t){return o.a.createElement(y,{key:t.id,title:t.title,tasks:t.tasks,onDone:function(){e.fetchTodos()}},o.a.createElement(L,{buttonLabel:"Delete X",todo:t.id,title:t.title,onSubmit:function(){e.refreshData()}}),o.a.createElement(P,{buttonLabel:"Add Task +",todo:t.id,onSubmit:function(t){e.refreshData()}}))})):o.a.createElement("h1",{className:"text-center"},"You have no todos"))}}]),t}(a.Component),U=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isProcessing:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"isProcessing",value:function(e){document.getElementById("lds-spinner").style.display=e?"block":"none"}},{key:"componentDidMount",value:function(){var e=this;h.a.interceptors.request.use(function(t){return e.isProcessing(!0),t},function(t){return e.isProcessing(!1),Promise.reject(t)}),h.a.interceptors.response.use(function(t){return e.isProcessing(!1),t},function(t){return e.isProcessing(!1),Promise.reject(t)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-app"},o.a.createElement("div",{className:"container p-3"},o.a.createElement(I,null)))}}]),t}(a.Component);l.a.render(o.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.d46c7fab.chunk.js.map